(this.webpackJsonpspeedtest=this.webpackJsonpspeedtest||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.ebd158af.svg"},function(e,t,n){e.exports=n.p+"static/media/pinging.e8abaee4.svg"},function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},,function(e){e.exports=JSON.parse('{"name":"speedtest","version":"0.1.0","repository":{"url":"https://github.com/IJMacD/speedtest.git"},"homepage":"https://ijmacd.github.io/speedtest","description":"A simple-as-possible speed test which can happily be hosted on static infrastructure.","dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","gh-pages":"^3.1.0","react":"^16.13.1","react-dom":"^16.13.1","react-scripts":"3.4.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),s=n.n(o),c=(n(13),n(1)),i=n(6),l=n.n(i),u=n(7),p=n.n(u),d=(n(14),n(2)),m=n.n(d),f=n(3);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){var a=new XMLHttpRequest;if(a.open(t.method||"GET",e),t.headers)for(var o=0,s=Object.entries(t.headers);o<s.length;o++){var i=Object(c.a)(s[o],2),l=i[0],u=i[1];a.setRequestHeader(l,u)}"include"===t.credentials&&(a.withCredentials=!0),t.progress&&a.addEventListener("progress",(function(e){t.progress(e.loaded/e.total*100)})),t.uploadProgress&&a.upload.addEventListener("progress",(function(e){t.uploadProgress(e.loaded/e.total*100)})),a.addEventListener("load",(function(e){var t={ok:a.status>=200&&a.status<300,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(JSON.parse(a.responseText))}};n(t)})),a.addEventListener("error",r),a.send(t.body)}))}var g=n(16),b=new URL(g.homepage),v="/"===b.pathname?"":b.pathname,w=v+"/ping.txt",E=[{target:v+"/1MB.bin",size:1e6},{target:v+"/2MB.bin",size:2e6},{target:v+"/10MB.bin",size:1e7}],x=v+"/dev/null";function y(){return(y=Object(f.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:performance.clearResourceTimings(),t=-5;case 2:if(!(t<20)){e.next=8;break}return e.next=5,fetch(w,{headers:{"Cache-Control":"no-cache"}});case 5:t++,e.next=2;break;case 8:return n=(n=(n=performance.getEntriesByType("resource")).filter((function(e){return e.name.endsWith(w)}))).slice(-20),r=n.map((function(e){return e.responseStart-e.requestStart})),e.abrupt("return",T(r));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(f.a)(m.a.mark((function e(){var t,n,r,a,o,s,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>0&&void 0!==c[0]?c[0]:null,n=0,r=0,a=0;case 4:if(!(n<5e3&&a<E.length)){e.next=14;break}return o=performance.now(),s=E[a],e.next=9,k(s.target,s.size,t);case 9:r=e.sent,n=performance.now()-o;case 11:a++,e.next=4;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n){return B.apply(this,arguments)}function B(){return(B=Object(f.a)(m.a.mark((function e(t,n,r){var a,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return performance.clearResourceTimings(),a=performance.now(),e.next=4,h(t,{headers:{"Cache-Control":"no-cache"},progress:function(e){var t=performance.now()-a;r(n*e/100/t*1e3)}});case 4:return o=performance.getEntriesByType("resource").find((function(e){return e.name.endsWith(t)})),e.abrupt("return",n/o.duration*1e3);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(f.a)(m.a.mark((function e(){var t,n,r,a,o,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:null,n=0,r=0,a=1e6;case 4:if(!(n<5e3&&a<1e7)){e.next=13;break}return o=performance.now(),e.next=8,S(x,new ArrayBuffer(a),t);case 8:r=e.sent,n=performance.now()-o;case 10:a*=2,e.next=4;break;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n){return F.apply(this,arguments)}function F(){return(F=Object(f.a)(m.a.mark((function e(t,n,r){var a,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return performance.clearResourceTimings(),(a=new FormData).set("data",new Blob([n])),o=performance.now(),e.next=6,h(t,{method:"post",body:a,uploadProgress:function(e){var t=performance.now()-o,a=n.byteLength*e/100;r(a/t*1e3)}});case 6:return s=performance.getEntriesByType("resource").find((function(e){return e.name.endsWith(t)})),e.abrupt("return",n.byteLength/s.duration*1e3);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return e.reduce((function(e,t){return e+t}),0)/e.length}function L(e){return e>=1e12?"".concat((e/1e12).toFixed(1)," TB/s"):e>=1e9?"".concat((e/1e9).toFixed(1)," GB/s"):e>=1e6?"".concat((e/1e6).toFixed(1)," MB/s"):e>=1e3?"".concat((e/1e3).toFixed(1)," KB/s"):"".concat(e.toFixed(1)," B/s")}function M(e){var t=e.value,n=e.color,r=e.width,o=void 0===r?300:r,s=Math.pow(10,3*Math.ceil(Math.log10(t)/3)),c=t/s*180;return a.a.createElement("svg",{width:o,viewBox:"0 0 440 150"},a.a.createElement("g",null,a.a.createElement("ellipse",{cx:"210",cy:"150",rx:"140",ry:"140",stroke:n,strokeWidth:"10",fill:"none"}),a.a.createElement("path",{d:"M70 145 L 210 140 L 220 145 L 210 150 Z",fill:"white",transform:"translate(210,145) rotate(".concat(c,") translate(-210,-145) ")}),a.a.createElement("text",{fill:"white",x:"360",y:"150",style:{fontSize:18}},L(s))))}var A=function(){var e=a.a.useState("start"),t=Object(c.a)(e,2),n=t[0],r=t[1],o=a.a.useState(0),s=Object(c.a)(o,2),i=s[0],u=s[1],d=a.a.useState(0),m=Object(c.a)(d,2),f=m[0],h=m[1],g=a.a.useState(0),b=Object(c.a)(g,2),v=b[0],w=b[1],E=a.a.useState(0),x=Object(c.a)(E,2),k=x[0],B=x[1],S=a.a.useState(0),F=Object(c.a)(S,2),T=F[0],A=F[1],C=a.a.useState(null),D=Object(c.a)(C,2),P=D[0],R=D[1],N=a.a.useState(null),W=Object(c.a)(N,2),z=W[0],J=W[1],q=a.a.useState(null),U=Object(c.a)(q,2),G=U[0],H=U[1];return a.a.useEffect((function(){"pinging"===n?function(){return y.apply(this,arguments)}().then(u,R).then((function(){return r("down")})):"down"===n?function(){return j.apply(this,arguments)}(w).then(h,J).then((function(){return r("upload")})):"upload"===n&&function(){return O.apply(this,arguments)}(A).then(B,H).then((function(){return r("complete")}))}),[n]),a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},"start"===n&&a.a.createElement("button",{className:"start-btn",onClick:function(){return r("pinging")}},a.a.createElement("img",{src:l.a,className:"App-logo",alt:"logo"})),P?a.a.createElement("p",null,"Error pinging"):"pinging"===n?a.a.createElement("p",null,"Pinging ",a.a.createElement("br",null),a.a.createElement("img",{src:p.a,width:400,alt:""})):i>0&&a.a.createElement("p",null,"Ping Time: ",i.toFixed(3)," ms"),z?a.a.createElement("p",null,"Error running download test"):"down"===n?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Running Download Test"),a.a.createElement(M,{value:v,color:"#61DAFB",width:300}),a.a.createElement("p",null,L(v))):f>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Download Speed: ",L(f)),a.a.createElement(M,{value:f,color:"#61DAFB"})),G?a.a.createElement("p",null,"Error running upload test"):"upload"===n?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Running Upload Test"),a.a.createElement(M,{value:T,color:"#FB61DA"}),a.a.createElement("br",null),a.a.createElement("p",null,L(T))):k>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Upload Speed: ",L(k)),a.a.createElement(M,{value:k,color:"#FB61DA"})),"complete"===n&&a.a.createElement("p",null,a.a.createElement("button",{onClick:function(){return r("start"),u(0),w(0),h(0),A(0),B(0),J(null),void H(null)}},"Start Again"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.e6040446.chunk.js.map